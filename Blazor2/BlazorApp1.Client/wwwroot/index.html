<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>BlazorApp1.Client</title>
    <base href="/" />
    <link rel="stylesheet" href="css/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" href="css/app.css" />
    <link rel="icon" type="image/png" href="favicon.png" />
    <link href="BlazorApp1.Client.styles.css" rel="stylesheet" />
    <link href="manifest.webmanifest" rel="manifest" />
    <link rel="apple-touch-icon" sizes="512x512" href="icon-512.png" />
    <link rel="apple-touch-icon" sizes="192x192" href="icon-192.png" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" />
    <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>

    <script src="https://cdn.datatables.net/fixedheader/3.2.2/js/dataTables.fixedHeader.min.js"></script>
    <script src="https://cdn.datatables.net/buttons/2.2.2/js/dataTables.buttons.min.js"></script>
</head>

<body>
    <div id="app">
        <svg class="loading-progress">
            <circle r="40%" cx="50%" cy="50%" />
            <circle r="40%" cx="50%" cy="50%" />
        </svg>
        <div class="loading-progress-text"></div>
    </div>

    <div id="blazor-error-ui">
        An unhandled error has occurred.
        <a href="" class="reload">Reload</a>
        <a class="dismiss">üóô</a>
    </div>
    <script src="_framework/blazor.webassembly.js"></script>
    <script src="_content/CurrieTechnologies.Razor.SweetAlert2/sweetAlert2.min.js"></script>

    <script>
        function TestDataTablesAdd(table) {
            $(document).ready(function () {
                var dataTable = $('#example').DataTable();

                $('#example thead .filters').remove();

                $('#example thead tr').clone(true).addClass('filters').appendTo('#example thead');

                dataTable.destroy();
                $('#example').DataTable({
                    "language": {
                        "url": "https://cdn.datatables.net/plug-ins/1.11.1/i18n/es_es.json"
                    },
                    orderCellsTop: true,
                    fixedHeader: true,
                    initComplete: function () {
                        var api = this.api();

                        api.columns().eq(0).each(function (colIdx) {
                            var cell = $('.filters th').eq($(api.column(colIdx).header()).index());

                            $(cell).html('<input type="text" placeholder="Buscar..." />');

                            // Manejar eventos de entrada para b√∫squeda
                            $('input', cell).on('keyup change', function () {
                                // Obtener el valor de b√∫squeda
                                var cursorPosition = this.selectionStart;
                                var searchValue = this.value;

                                // Buscar en la columna
                                api
                                    .column(colIdx)
                                    .search(searchValue, false, true) // false para exacto, true para b√∫squeda con expresiones regulares
                                    .draw();

                                // Mantener el cursor en la misma posici√≥n
                                $(this).focus()[0].setSelectionRange(cursorPosition, cursorPosition);
                            });
                        });
                    },
                });
            });
        }

        function Limpiar() {
            var dataTable = $('#example').DataTable();

            // Limpiar los filtros
            $('#example thead .filters input').val('');

            // Restablecer la b√∫squeda
            dataTable.search('').columns().search('').draw();

            dataTable.destroy();
        }
    </script>
    <script>navigator.serviceWorker.register('service-worker.js');</script>

</body>

</html>
